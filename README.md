# üéÆ Albion Analytics Bot

A professional coaching and analytics solution for Albion Online guilds and alliances. This bot streamlines session reviews, tracks player performance with high-quality visualizations, and automates mentor rewards.

---

## üåç Language Support
This bot is fully localized in **English**. All commands, charts, and internal logs are in English to support global alliance environments.

---

## ‚ú® Key Features / –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üé´ Session Review System (Tickets)
- **Automated Workflow**: Players create tickets for session reviews (ZvZ, Crystals, etc.).
- **Dynamic Channels**: Each ticket gets a private channel for communication between the player and mentor.
- **Persistence**: Replay links and session descriptions are permanently stored and formatted into clean embeds.
- **Auto-Cleanup**: Channels are automatically deleted after a successful evaluation to prevent clutter.

### 2. üìä Advanced Player Dashboard
- **Single Infographic**: All stats are combined into a high-quality dashboard image.
- **Montserrat Typography**: Professional look using the Montserrat font.
- **Insights include**:
  - **Global Rank**: See where you stand in the whole guild.
  - **Score Trends**: Track your growth over weeks.
  - **Role Mastery**: Identify your strongest roles.
  - **Error Distribution**: Learn from your most common mistakes.

### 3. üí∞ Professional Payroll System
- **Activity Tracking**: Track mentor performance across 7-day, 14-day, and all-time windows.
- **Fair Distribution**: Automatically calculate silver rewards based on the volume of reviewed sessions.
- **Transparency**: Detailed breakdowns for each mentor's share of the budget.

---

## üá∑üá∫ –°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Russian)

### –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
1.  **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/register <code>`, —á—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∞—Ç—å —Å–≤–æ–π Discord –∫ –≥–∏–ª—å–¥–∏–∏. –ö–æ–¥ –≤—ã–¥–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–º (Founder).
2.  **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/menu`, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∏–∫–µ—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–≥—Ä (–¢–∏–∫–µ—Ç—ã)
- –ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–≥—Ä—É –Ω–∞ —Ä–∞–∑–±–æ—Ä, –Ω–∞–∂–º–∏—Ç–µ "Create Ticket" –≤ –º–µ–Ω—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/ticket create`.
- –£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–ª–µ–π –∏ –≤–∞—à—É —Ä–æ–ª—å. –ë–æ—Ç —Å–æ–∑–¥–∞—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –º–µ–Ω—Ç–æ—Ä–æ–º.
- –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º–µ–Ω—Ç–æ—Ä –æ—Ü–µ–Ω–∏—Ç –∏–≥—Ä—É, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –õ–° —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º —Ñ–∏–¥–±–µ–∫–æ–º –∏ –æ—Ü–µ–Ω–∫–æ–π.

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ö–æ–º–∞–Ω–¥–∞ `/stats` –≤—ã–≤–æ–¥–∏—Ç –≤–∞—à—É –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É –∏–≥—Ä–æ–∫–∞. 
- –ù–∞ –Ω–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–∞—à —Ä–µ–π—Ç–∏–Ω–≥ (Rank), —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª (Avg Score) –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤–∞—à–∏—Ö —É—Å–ø–µ—Ö–æ–≤ –∏ –æ—à–∏–±–æ–∫.

---

## üá¨üáß User Guide (English)

### Getting Started
1.  **Registration**: Use `/register <code>` to link your Discord account to the guild. Codes are provided by the Guild Founder.
2.  **Main Menu**: Use `/menu` for quick access to ticket creation and your statistics.

### Session Reviews (Tickets)
- To submit a session for review, click "Create Ticket" in the menu or use `/ticket create`.
- Provide the replay link and your role. The bot will create a dedicated channel for your review.
- Once a mentor evaluates your session, you will receive a DM with detailed feedback and your score.

### Statistics
- The `/stats` command generates your comprehensive player dashboard.
- It displays your Global Rank, Average Score, and detailed visualizations of your performance and recurring errors.

---

## üõ† Commands Reference / –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

| Command | Description (English) | –û–ø–∏—Å–∞–Ω–∏–µ (Russian) | Access |
| :--- | :--- | :--- | :--- |
| `/menu` | Bot's main control panel | –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | Member |
| `/register` | Link Discord to Guild | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –≥–∏–ª—å–¥–∏–∏ | All |
| `/stats` | View player dashboard | –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞ | Member |
| `/ticket create` | Open a review ticket | –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–∞–∑–±–æ—Ä | Member |
| `/ticket list` | View active reviews | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ | Mentor |
| `/payroll` | Calculate mentor rewards | –†–∞—Å—á–µ—Ç –≤—ã–ø–ª–∞—Ç –º–µ–Ω—Ç–æ—Ä–∞–º | Founder |
| `/admin` | System management | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π | Founder |

---

## ‚öôÔ∏è Technical Setup / –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### Environment Variables
- `DISCORD_TOKEN`: Your bot application token.
- `DATABASE_URL`: Connection string (PostgreSQL recommended for production).
- `GUILD_ID`: Your target Discord server ID.

### Deployment (Render.com)
1.  **Web Service**: Connect your GitHub repository.
2.  **Build Command**: `pip install -r requirements.txt`
3.  **Start Command**: `python bot.py`
4.  **Health Check**: Route `/` is available via `keep_alive.py` to maintain uptime.

---
*Created by Albion Analytics. Empowering guilds through data-driven coaching.*
